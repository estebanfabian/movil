<ion-header>
    <ion-navbar>
        <h6 align="left">Modificar</h6>
    </ion-navbar>
</ion-header>
<ion-content padding>
    <form [formGroup]="myForm">
        <div *ngFor="let usuario of lista">
            <ion-grid>
                <ion-row>
                    <ion-col>
                        <img src="{{foto}}" width="100" >
                    </ion-col>
                    <ion-col>
                        <ion-col col-6><button ion-button color="primary" clear  (click)="ActivarCAM()">Tomar Foto</button></ion-col>
                        <ion-col col-6><button ion-button color="primary"clear  (click)="BuscarSD()">Subir Imagen</button> </ion-col>
                    </ion-col>
                </ion-row>
            </ion-grid>
            <ion-item>
                <ion-icon name="card" item-start></ion-icon>
                <ion-label stacked>Código:</ion-label>
                <ion-input formControlName="codigo" type="number" placeholder="Código" value="{{usuario.codigo}}" readonly></ion-input>
            </ion-item>            
            <ion-item>
                <ion-icon name="person" item-start></ion-icon>
                <ion-label stacked>Nombre:</ion-label>
                <ion-input formControlName="nombre" type="text" placeholder="Nombre" value="{{usuario.nombre}}" readonly ></ion-input>
            </ion-item>
            <ion-item>
                <ion-icon name="person" item-start></ion-icon>
                <ion-label stacked>Apellido:</ion-label>
                <ion-input formControlName="apellido" type="text" placeholder="Apellido" value="{{usuario.apellido}}" readonly></ion-input>
            </ion-item>
            <ion-item>
                <ion-icon name="call" item-start></ion-icon>
                <ion-label stacked>Télefono:</ion-label>
                <ion-input formControlName="telefonoPrincipal" type="text" placeholder="Télefono" value="{{usuario.telefonoPrincipal}}"></ion-input>
            </ion-item>
            <ion-item *ngIf="myForm.get('telefonoPrincipal').errors && myForm.get('telefonoPrincipal').dirty">
                <p color="danger" ion-text *ngIf="myForm.get('telefonoPrincipal').hasError('required')">Este campo es requerido</p>
                <p color="danger" ion-text *ngIf="myForm.get('telefonoPrincipal').hasError('minlength')">Por favor escriba mínimo 7 caracteres</p>
                <p color="danger" ion-text *ngIf="myForm.get('telefonoPrincipal').hasError('maxlength')">Por favor escriba máximo 20 caracteres</p>
            </ion-item>
            <ion-item>
                <ion-icon name="home" item-start></ion-icon>
                <ion-label stacked>Dirección:</ion-label>
                <ion-input formControlName="direccion" type="text" placeholder="Dirección" value="{{usuario.direccion}}"></ion-input>
            </ion-item>
            <ion-item *ngIf="myForm.get('direccion').errors && myForm.get('direccion').dirty">
                <p color="danger" ion-text *ngIf="myForm.get('direccion').hasError('required')">Este campo es requerido</p>
            </ion-item>
            <ion-item>
                <ion-icon name="home" item-start></ion-icon>
                <ion-label stacked>Fecha de Nacimiento:</ion-label>
                <ion-input formControlName="fechaNacimiento" type="text" placeholder="Fecha de Nacimiento" value="{{usuario.fechaNacimiento}}" readonly></ion-input>
            </ion-item>
            <ion-item *ngIf="myForm.get('fechaNacimiento').errors && myForm.get('fechaNacimiento').dirty">
                <p color="danger" ion-text *ngIf="myForm.get('fechaNacimiento').hasError('required')">Este campo es requerido</p>
            </ion-item>
            <ion-item>
                <ion-icon name="mail" item-start></ion-icon>
                <ion-label stacked>Correo:</ion-label>
                <ion-input formControlName="emailPrincipal" type="email" placeholder="Correo" value="{{usuario.emailPrincipal}}"></ion-input>
            </ion-item>
            <ion-item *ngIf="myForm.get('emailPrincipal').errors && myForm.get('emailPrincipal').dirty">
                <p color="danger" ion-text *ngIf="myForm.get('emailPrincipal').hasError('required')">Este campo es requerido</p>
                <p color="danger" ion-text *ngIf="myForm.get('emailPrincipal').hasError('email')">Este correo no es válido</p>
            </ion-item>
            <div padding>
                <button ion-button block type="submit" [disabled]="!myForm.valid" (click)="Modificar()">Actualizar</button>
            </div>       
        </div>
    </form>
</ion-content>
<ion-footer>
    <ion-navbar>
        <img src="assets/imgs/abajo.png">
    </ion-navbar>
</ion-footer>